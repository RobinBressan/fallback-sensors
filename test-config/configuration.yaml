# Home Assistant test configuration for Fallback Sensors

# Loads default set of integrations. Do not remove.
default_config:

# Load the Lovelace UI
lovelace:
  mode: storage

# Text to speech
tts:
  - platform: google_translate

automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml

# Logging configuration for debugging
logger:
  default: info
  logs:
    custom_components.fallback_sensors: debug

# Test sensors
sensor:
  # Simulated sensors for testing
  - platform: template
    sensors:
      test_temp_primary:
        friendly_name: "Test Temperature Primary"
        value_template: "{{ 20 + (range(0, 5) | random) }}"
        unit_of_measurement: "°C"
        device_class: temperature

      test_temp_backup:
        friendly_name: "Test Temperature Backup"
        value_template: "{{ 18 + (range(0, 3) | random) }}"
        unit_of_measurement: "°C"
        device_class: temperature

      test_temp_fallback:
        friendly_name: "Test Temperature Fallback"
        value_template: "{{ 22 + (range(0, 2) | random) }}"
        unit_of_measurement: "°C"
        device_class: temperature

  # Example Fallback Sensors configuration (via YAML)
  - platform: fallback_sensors
    name: "Temperature Fallback Test"
    hysteresis_delay: 5
    entities:
      - sensor.test_temp_primary
      - sensor.test_temp_backup
      - sensor.test_temp_fallback
    conditions:
      - type: range
        min: 15
        max: 30

# Note: Template sensors automatically update every minute
# To test fallback behavior, you can:
# 1. Use Developer Tools > States to manually change sensor states
# 2. Modify sensor values here and restart Home Assistant
# 3. Add custom automations in automations.yaml
